<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ÙƒØ§Ù…ÙŠØ±Ø§ Ù‡ÙŠØ±ÙˆØºÙ„ÙŠÙÙŠØ©</title>
  <style>
    body { font-family: Arial; text-align: center; margin:30px;
      background: url('https://i.imgur.com/Y6CjY8U.jpeg') no-repeat center center fixed;
      background-size: cover; color: white; }
    video, canvas { border:2px solid #eee; border-radius:10px; margin:10px; }
    button, input { margin:10px; padding:10px 20px; font-size:16px; border-radius:5px;
      border:none; cursor:pointer; }
    #convertBtn { background:teal; color:white; }
    #captureBtn { background:goldenrod; color:white; }
    #downloadBtn { display:none; }
  </style>
</head>
<body>
  <h2>ğŸ“¸ Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØªØ­ÙˆÙ„ Ù„Ù‡ÙŠØ±ÙˆØºÙ„ÙŠÙÙŠØ©!</h2>
  <input type="text" id="username" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©" /><br>
  <video id="video" width="320" height="240" autoplay></video><br>
  <button id="convertBtn">ğŸ” ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø§Ø³Ù…</button>
  <button id="captureBtn">ğŸ“· Ø§Ù„ØªÙ‚Ø· ØµÙˆØ±Ø©</button><br>
  <canvas id="canvas" width="320" height="240"></canvas><br>
  <a id="downloadBtn" download="your_photo.png">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©</a>

  <script>
    const video = document.getElementById('video'),
          canvas = document.getElementById('canvas'),
          ctx = canvas.getContext('2d'),
          convertBtn = document.getElementById('convertBtn'),
          captureBtn = document.getElementById('captureBtn'),
          downloadBtn = document.getElementById('downloadBtn');
    let glyphs = '';
    const hieroMap = {
      A:'ğ“„¿',B:'ğ“ƒ€',C:'ğ“¿',D:'ğ“‚§',E:'ğ“‡‹',F:'ğ“†‘',G:'ğ“¼',H:'ğ“›',
      I:'ğ“‡‹',J:'ğ“†“',K:'ğ“¡',L:'ğ“ƒ­',M:'ğ“…“',N:'ğ“ˆ–',O:'ğ“…±',P:'ğ“Šª',
      Q:'ğ“˜',R:'ğ“‚‹',S:'ğ“‹´',T:'ğ“',U:'ğ“…±',V:'ğ“†‘',W:'ğ“…±',X:'ğ“',
      Y:'ğ“‡Œ',Z:'ğ“Šƒ'
    };

    navigator.mediaDevices.getUserMedia({video:true})
      .then(s => video.srcObject = s)
      .catch(err => alert('ØªØ¹Ø°Ø± ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§: ' + err));

    convertBtn.onclick = () => {
      const name = document.getElementById('username').value.trim();
      glyphs = name.toUpperCase().split('').map(c => hieroMap[c] || '').join('');
      if(!glyphs) return alert('Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹');
      alert('ØªØ­ÙˆÙŠÙ„ Ù„Ù„Ø§Ø³Ù…: ' + glyphs);
    };

    captureBtn.onclick = () => {
      if(!glyphs) return alert('Ø§Ø¶ØºØ· Ø£ÙˆÙ„Ø§Ù‹ â€œØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø§Ø³Ù…â€');
      ctx.drawImage(video,0,0,canvas.width,canvas.height);
      ctx.fillStyle='gold';
      ctx.font='20px Arial';
      ctx.fillText(glyphs,10,30);
      const img=canvas.toDataURL('image/png');
      downloadBtn.href=img;
      downloadBtn.style.display='inline';
      downloadBtn.click();
    };
  </script>
</body>
</html>
